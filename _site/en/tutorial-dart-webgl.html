<!DOCTYPE html>

<html lang="en">

<head>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-7551074192374685",
    enable_page_level_ads: true
  });
</script>

<link rel="shortcut icon" type="image/png" href="/images/favicon.png" />

<link href="https://fonts.googleapis.com/css?family=Lato|Titillium+Web" rel="stylesheet">

<link href="/css/prism.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/ficons@1.1.52/dist/ficons/font.css" rel="stylesheet">
<link rel="stylesheet" href="/css/picnic.min.css">
<link rel="stylesheet" href="/css/index.css">


  <title>WebGl y Dart, cómo empezar</title>
  <meta name="twitter:title" content="WebGl y Dart, cómo empezar">


<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@Frostq_">
<meta property="og:site_name" content="Frostq - Coding beers">
<meta property="article:author" content="Diego López García (Frostq)">


  <meta name="twitter:description" content="Tutorial de Dart junto con WebGL para la creación de gráficos en 3D. Instalación de Dart con WebStorm">
  <meta name="description" content="Tutorial de Dart junto con WebGL para la creación de gráficos en 3D. Instalación de Dart con WebStorm">
  <meta property='og:description' content="Tutorial de Dart junto con WebGL para la creación de gráficos en 3D. Instalación de Dart con WebStorm" />


<meta name="theme-color" content="#9c95ed">



  
    <meta name="twitter:image:src" content="http://localhost:4000/images/posts/dart.jpg">
    <meta property='og:image' content="http://localhost:4000/images/posts/dart.jpg" />
    



  <meta name="twitter:url" content="http://localhost:4000/tutorial-dart-webgl">
  <meta property='og:url' content="http://localhost:4000/tutorial-dart-webgl" />
 

<script>
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r;
      i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date();
      a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-87066592-1', 'auto');
    ga('send', 'pageview');
</script>



</head>


<body>

  
  
<nav class="nav_transparent">
    <a href="/en/" class="brand">
      <img class="navbar_logo" src="/images/logo_horizontal.png"  />
      
    </a>
  
    <!-- responsive-->
    <input id="bmenub" type="checkbox" class="show">
    <label for="bmenub" class="burger pseudo button"><i class="fa fa-bars"></i></label>
  
    <div class="menu">
      <ul>
        <a href="/en/blog">
          <li id="header_item">BLOG</li>
        </a>
        <a href="/en/projects">
          <li id="header_item">PROJECTS</li>
        </a>
        <a href="/en/about">
          <li id="header_item">ABOUT ME</li>
        </a>
        <a href="/en/feed.xml">
          <li id="header_item">RSS</li>
        </a>
    
      </ul>
    </div>
  </nav>


<div class="post_header" style="background-image: linear-gradient( rgba(23, 45, 65, 0.5), rgba(54, 75, 94, 0.9) ), url(/images/posts/dart.jpg)">
  <div class="container post_header_content">
    <h1 class="post_title">WebGL con Dart 01 - Primeros pasos </h1>


    <div class="post_date">January 13, 2017</div>

    <div class="post_tags">
      

      <a class="tags" href="/tag#dart">Dart</a>

      

      <a class="tags" href="/tag#webgl">WebGL</a>

      
    </div>

    

    <div class="post_read_time">
      
        <i class="fa fa-clock-o"></i> 3 min read 
    </div>

  </div>
</div>


<div class="container">


  <div align="center">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <!-- Ad -->
    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-7551074192374685" data-ad-slot="4480248215" data-ad-format="auto"></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </div>

  <div class="post_content">
    <p>WebGL es una API basada en OpenGL mediante la cual podemos crear gráficos o pequeños juegos en 3D para el desarrollo web. Para ello, necesitamos que el navegador que estemos utilizando
soporte WebGL (actualmente la mayoria lo soportan). Si quieres saber más información puedes consultar la wikipedia (<a href="https://es.wikipedia.org/wiki/WebGL">https://es.wikipedia.org/wiki/WebGL</a>),
o puedes echar un vistazo a estos ejemplos, por si te sirven de inspiración: <a href="https://www.chromeexperiments.com/webgl">https://www.chromeexperiments.com/webgl</a>.</p>

<p>Para esta guia, vamos a utilizar Dart para la programación
de un simple escenario en 3D, que nos puede servir como base para futuros proyectos. WebGL también se puede utilizar con JavaScript o con otros lenguajes 
pensados para la web.</p>

<h2>Primeros pasos con Dart y WebGL</h2>

<p>Lo primero es descargar Dart y su sdk para poder empezar. Vamos a la página de Dart y lo instalamos siguiendo los pasos que aparecen para cada sistema operativo <a href="https://www.dartlang.org/install">https://www.dartlang.org/install</a></p>

<p>Una vez lo tenemos instalado, tenemos que crear un proyecto Dart, afortunadamente el IDE que estoy usando (<a href="https://www.jetbrains.com/webstorm/]">WebStorm</a>), puede generar proyectos
Dart, en caso de usar otro IDE tendríamos que generarlo manualmente.
Ahora, abrimos nuestro archivo <b>index.html</b> y creamos el canvas en el que se dibujaran los elementos, para ello añadimos la siguiente linea dentro del <b>body</b>:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;canvas</span> <span class="na">id=</span><span class="s">"game"</span> <span class="na">width=</span><span class="s">"900px"</span> <span class="na">height=</span><span class="s">"500px"</span><span class="nt">&gt;&lt;/canvas&gt;</span>
</code></pre></div></div>

<p>Notar que he añadido dentro de la etiqueta del canvas, el id para poder identificarlo en nuestro código en dart, así como, la anchura (width) y la altura (height), aunque estas últimas se pueden añadir a posteriori.</p>

<p>El siguiente paso es añadir código al archivo dart. Lo primero es importar lo que vamos a utilizar:</p>

<pre><code class="language-JavaScript">import 'dart:html' as html;
import 'dart:web_gl' as GL;

GL.RenderingContext gl;
</code></pre>
<p>Añadimos la funcion main() si no la tenemos ya. Dentro vamos a inicializar WebGL en el canvas que creamos anteriormente, en caso de que el usuario no disponga de WebGL, hacemos una alerta.
En caso contrario, llamamos a la funciona start() que es la que vamos a utilizar para empezar a cargar WebGL.</p>

<pre><code class="language-JavaScript">void main() {
 var canvas = html.querySelector("#game");

  gl = canvas.getContext("webgl");

  if(gl == null) gl = canvas.getContext("experimental-webgl");

  if(gl != null){
    start();
  }else{
    html.window.alert("Tu navegador no soporta WebGL");
  }
}
</code></pre>
<p>Tras cargar WebGL en la variable gl, comprobamos si es <b>null</b>, en este caso intentamos cargar experimental-webgl (para navegadores Chrome).</p>

<p>Ahora toca implementar la funcion start().</p>

<pre><code class="language-JavaScript">void start(){
  gl.clearColor(0.3,0,3.0,1.0);
  gl.enable(GL.RenderingContext.DEPTH_TEST);
  gl.clear(GL.COLOR_BUFFER_BIT|GL.DEPTH_BUFFER_BIT);
}
</code></pre>
<p>Con la funcion clearColor especificamos que color se va a cargar cuando llamemos a gl.clear(). La siguiente instruccion sirve para habilitar la prueba de WebGL de profundidad.
Por último limpiamos el buffer de bits. Si queremos cambiar la resolucion de renderizado tenemos que añadir la siguiente instruccion:</p>

<pre><code class="language-JavaScript">gl.viewport(0, 0, 900, 500);
</code></pre>
<p>Esto ajustará la resolucion al ancho y el alto que le especifiquemos, en este caso 900x500, nuestro ancho y alto del lienzo. Lo mejor, en este caso, es 
añadir una variable para el ancho y el alto de nuestro lienzo para usarlo directamente en esta instrucción.</p>

<p>El código al completo del archivo <b>main.dart</b>, quedaría de la siguiente manera</p>

<pre><code class="language-JavaScript">import 'dart:html' as html;
import 'dart:web_gl' as GL;

GL.RenderingContext gl;

void main() {
 var canvas = html.querySelector("#game");

  gl = canvas.getContext("webgl");

  if(gl == null){
    gl = canvas.getContext("experimental-webgl");
    
  }

  if(gl != null){
    start();
  }else{
    html.window.alert("Tu navegador no soporta WebGL");
  }
}

void start(){
  gl.clearColor(0.3,0,3.0,1.0);
  gl.enable(GL.RenderingContext.DEPTH_TEST);
  gl.clear(GL.COLOR_BUFFER_BIT|GL.DEPTH_BUFFER_BIT);
  gl.viewport(0, 0, 900, 500);
}
</code></pre>

<p>Si ahora ejecutas el proyecto y vas al navegador, si puedes ver un cuadrado de color azul, es que lo has hecho bien.</p>

<p><img src="http://i.imgur.com/3NTS0gg.png" class="responsive-img" alt="tutorial dart webgl" /></p>

<p>Si queremos subir nuestro proyecto Dart a un servidor, tenemos que compilarlo en archivos con extensión .js (JavaScript).
Dart pone a nuestra disposición un comando para generar estos archivos. Si tenemos instalado correctamente Dart en nuestro ordenador, tendremos disponibles los comandos
de Dart. Solo tenemos que escribir en la consola el siguiente comando</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dart2js <span class="nt">--out</span><span class="o">=</span>test.js test.dart
</code></pre></div></div>
<p>Donde test.js es el nombre del archivo JavaScript que queremos generar y test.dart es nuestro archivo Dart, en nuestro caso <b>main.dart</b>.</p>

<p>Para más información sobre estos comandos visita la web de Dart <a href="https://webdev.dartlang.org/tools/dart2js">https://webdev.dartlang.org/tools/dart2js</a></p>

<p>De momento no tenemos nada, simplemente el lienzo, en articulos posteriores cargaremos los shaders, y empezaremos a dibujar las figuras.</p>


  </div>

  
  <div class="related">
    <h2>Posts recomendados</h2>
    <ul class="related_posts">
      
      
      <li>
        <h5>
          <a href="/en/introduccion-instalacion-angular" class="related_post">
            Angular - Introducción e instalación

          </a>
        </h5>
      </li>
     
      
      
      <li>
        <h5>
          <a href="/en/angular-formularios" class="related_post">
            Angular - FormControl y FormGroup para crear formularios reactivos

          </a>
        </h5>
      </li>
     
      
      
      <li>
        <h5>
          <a href="/en/cuantas-tecnologias-web-existen" class="related_post">
            ¿Cuántas tecnologías para el desarollo web existen?

          </a>
        </h5>
      </li>
     
      
      
      <li>
        <h5>
          <a href="/en/optimizar-angular" class="related_post">
            Optimizar aplicaciones Angular 2 para aumentar la velocidad de carga

          </a>
        </h5>
      </li>
     
      
    </ul>
  </div>




</div>



<div align="center">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- Ad -->
  <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-7551074192374685" data-ad-slot="4480248215" data-ad-format="auto"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>



  <footer>
    <div class="flex three">
        <div class="full half-1000">

            <div id="mc_embed_signup">
                <form action="https://github.us14.list-manage.com/subscribe/post?u=cd16a671a63cd217caf6b2f3f&amp;id=bb3cc69837" method="post"
                    id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
                    <div id="mc_embed_signup_scroll">
                        <h2>Newsletter <i class="fa fa-envelope icon_footer" aria-hidden="true"></i></h2>
                        <p>Sigue el blog por email. Introduce tu dirección de correo electrónico para que te mande un correo
                            cuando publique un nuevo artículo en este blog</p>

                        <div class="mc-field-group">
                            <label for="mce-EMAIL">Tu email
                                <span class="asterisk">*</span>
                            </label>
                            <input type="email" style="color:black;" value="" name="EMAIL" class="required email" id="mce-EMAIL" placeholder="Introducce tu dirección de correo electrónico">
                        </div>
                        <div id="mce-responses" class="clear">
                            <div class="response" id="mce-error-response" style="display:none"></div>
                            <div class="response" id="mce-success-response" style="display:none"></div>
                        </div>
                        <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
                        <div style="position: absolute; left: -5000px;" aria-hidden="true">
                            <input type="text" name="b_cd16a671a63cd217caf6b2f3f_bb3cc69837" tabindex="-1" value="">
                        </div>
                        <div class="clear">
                            <input type="submit" value="Suscribirse por email" name="subscribe" id="mc-embedded-subscribe" class="button footer_button">
                        </div>
                    </div>
                </form>
            </div>

            <!--End mc_embed_signup-->

        </div>
        <div class="full sixth-1000">
          
              
                <ul id="footer_menu">
                   
                    <a href="/en/blog">
                        <li><h4>Blog</h4></li>
                    </a>
                    <a href="/en/projects">
                        <li><h4></h>Projects</h4></li>
                    </a>
                    <a href="/en/about">
                        <li><h4>About me<h4></li>
                    </a>
                    <a href="/en/feed.xml">
                        <li><h4>Rss</h4></li>
                    </a>

                </ul>
           
        </div>
        <div class="full third-1000">
            <ul class="footer_posts">
                    

                    
                   
                    

                    
                    <a href="/en/introduccion-instalacion-angular"><li><h4>Angular - Introducción e instalación</h4></li></a>
                    
                    
                    
                   
                    

                    
                    <a href="/en/angular-formularios"><li><h4>Angular - FormControl y FormGroup para crear formularios reactivos</h4></li></a>
                    
                    
                    
                   
                    

                    
                    <a href="/en/cuantas-tecnologias-web-existen"><li><h4>¿Cuántas tecnologías para el desarollo web existen?</h4></li></a>
                    
                    
                    
                   
                    

                    
                    <a href="/en/optimizar-angular"><li><h4>Optimizar aplicaciones Angular 2 para aumentar la velocidad de carga</h4></li></a>
                    
                    
                    
                   
                    

                    
                    
                   
                    

                    
                    
                   
                    

                    
                    
                   
                    

                    
                    
                   
                    

                    
                    
                   
                    

                    
                    
                   
                    

                    
                    
                   
                    

                    
                    
                   
                    

                    
                    
                   
                    

                    
                    
                   
                    

                    
                    
                   
                    

                    
                    
                   
                    

                    
                    
                   
                    

                    
                    
                   
                    

                    
                    
                   
                    

                    
                    
                   
                    

                    
                    
                   
                    

                    
                    
                   
                    

                    
                    

            </ul>
        </div>





    </div>
</footer>




  <script src="/js/prism.js"></script>
  <script src="/js/index.js"></script>



</body>







</html>
