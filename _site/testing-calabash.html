<!DOCTYPE html>

<html lang="">

<head>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-7551074192374685",
    enable_page_level_ads: true
  });
</script>

<link rel="shortcut icon" type="image/png" href="/images/favicon.png" />

<link href="https://fonts.googleapis.com/css?family=Lato|Titillium+Web" rel="stylesheet">

<link href="/css/prism.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/ficons@1.1.52/dist/ficons/font.css" rel="stylesheet">
<link rel="stylesheet" href="/css/picnic.min.css">
<link rel="stylesheet" href="/css/index.css">


  <title>Calabash para realizar testing automatico</title>
  <meta name="twitter:title" content="Calabash para realizar testing automatico">


<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@Frostq_">
<meta property="og:site_name" content="Frostq - Coding beers">
<meta property="article:author" content="Diego López García (Frostq)">


  <meta name="twitter:description" content="Como instalar y usar Calabash para hacer testing de aplicaciones Android de forma automatizada.">
  <meta name="description" content="Como instalar y usar Calabash para hacer testing de aplicaciones Android de forma automatizada.">
  <meta property='og:description' content="Como instalar y usar Calabash para hacer testing de aplicaciones Android de forma automatizada." />


<meta name="theme-color" content="#9c95ed">



  
    <meta name="twitter:image:src" content="http://localhost:4000/images/posts/calabash.jpg">
    <meta property='og:image' content="http://localhost:4000/images/posts/calabash.jpg" />
    



  <meta name="twitter:url" content="http://localhost:4000/testing-calabash">
  <meta property='og:url' content="http://localhost:4000/testing-calabash" />
 

<script>
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r;
      i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date();
      a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-87066592-1', 'auto');
    ga('send', 'pageview');
</script>



</head>


<body>

  
  
<nav class="nav_transparent">
    <a href="/" class="brand">
      <img class="navbar_logo" src="/images/logo_horizontal.png"  />
      
    </a>
  
    <!-- responsive-->
    <input id="bmenub" type="checkbox" class="show">
    <label for="bmenub" class="burger pseudo button"><i class="fa fa-bars"></i></label>
  
    <div class="menu">
      <ul>
        <a href="/blog">
          <li id="header_item">BLOG</li>
        </a>
        <a href="/projects">
          <li id="header_item">PROJECTS</li>
        </a>
        <a href="/about">
          <li id="header_item">ABOUT ME</li>
        </a>
        <a href="/feed.xml">
          <li id="header_item">RSS</li>
        </a>
    
      </ul>
    </div>
  </nav>


<div class="post_header" style="background-image: linear-gradient( rgba(23, 45, 65, 0.5), rgba(54, 75, 94, 0.9) ), url(/images/posts/calabash.jpg)">
  <div class="container post_header_content">
    <h1 class="post_title">Usando Calabash para hacer testing de aplicaciones Android </h1>


    <div class="post_date">April 19, 2016</div>

    <div class="post_tags">
      

      <a class="tags" href="/tag#android">Android</a>

      

      <a class="tags" href="/tag#testing">Testing</a>

      

      <a class="tags" href="/tag#calabash">Calabash</a>

      
    </div>

    

    <div class="post_read_time">
      
        <i class="fa fa-clock-o"></i> 2 min read 
    </div>

  </div>
</div>


<div class="container">


  <div align="center">
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <!-- Ad -->
    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-7551074192374685" data-ad-slot="4480248215" data-ad-format="auto"></ins>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </div>

  <div class="post_content">
    <p><b>Calabash</b> es un framework open source que permite el testing automatizado de aplicaciones moviles desarrollado por Xamarin; para ello utiliza <b>Cucumber</b>, software escrito en Ruby pensado para el testing de software, aunque es independiente del lenguaje utilizado. También podemos utilizarlo para el desarrollo web usando Selenium, aunque en este articulo veremos como usarlo para las aplicaciones Android.</p>

<p>Calabash ejecuta una serie de pruebas funcionales automatizadas contra la interfaz de usuario de una aplicación. Está pensado para ser usado en un modelo de Testing BDD.</p>

<h2>Instalación y funcionamiento</h2>

<p>Para empezar a instalarlo, tienes que tener instalado Ruby, si no lo tienes lo puedes instalar desde aquí: <a href="http://RubyInstaller.org">RubyInstaller.org</a></p>

<p>También, tienes que tener instalado el JDK (Java Development Kit), que lo puedes descargar de <a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html">aqui </a>y el SDK de Android, lo puedes descargar desde <a href="http://developer.android.com/intl/es/sdk/">aqui</a></p>

<p>Una vez instalado todo esto tienes que ejecutar el siguiente comando para instalarlo:</p>
<ul>
 	<li><em><b><code>gem install calabash-android</code></b></em></li>
</ul>
<p>Si ya has instalado calabash, puedes generar un esqueleto Cucumber con el siguiente comando:</p>
<ul>
 	<li><em><b><code>calabash-android gen</code></b></em></li>
</ul>
<p>Automáticamente generará las carpetas con los archivos .feature y .rb</p>

<p>En el archivo con extension .feature se especifica lo que queremos que Calabash ejecute automáticamente. Por ejemplo un feature con un escenario para el login muy sencillo, de una aplicación quedaría de esta manera:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="n">Feature</span><span class="p">:</span> <span class="n">Login</span> <span class="n">Feature</span>
    <span class="n">Scenario</span><span class="p">:</span> <span class="n">As</span> <span class="n">a</span> <span class="n">valid</span> <span class="n">user</span> <span class="n">I</span> <span class="n">can</span> <span class="n">log</span> <span class="n">into</span> <span class="n">my</span> <span class="n">app</span>
    <span class="n">Given</span> <span class="n">I</span> <span class="n">enter</span> <span class="n">text</span> <span class="s">"luisca_jl"</span> <span class="n">into</span> <span class="n">field</span> <span class="k">with</span> <span class="nb">id</span> <span class="s">"txtLogin"</span> <span class="o">//</span><span class="n">pasamos</span> <span class="n">los</span> <span class="nb">id</span> <span class="n">de</span> <span class="n">los</span> <span class="n">elementos</span> <span class="n">como</span> <span class="n">string</span>
    <span class="n">And</span> <span class="n">I</span> <span class="n">enter</span> <span class="s">"1234"</span> <span class="n">into</span> <span class="nb">input</span> <span class="n">field</span> <span class="n">number</span> <span class="mi">2</span>
    <span class="n">And</span> <span class="n">I</span> <span class="n">go</span> <span class="n">back</span> <span class="o">//</span><span class="n">Vuelve</span> <span class="n">atras</span> <span class="n">para</span> <span class="n">cerrar</span> <span class="n">el</span> <span class="n">teclado</span>
    <span class="n">When</span> <span class="n">I</span> <span class="n">press</span> <span class="s">"btnLogin"</span>
    <span class="n">Then</span> <span class="n">I</span> <span class="n">see</span> <span class="s">"Bienvenido de nuevo"</span> 
</code></pre></div></div>

<p>Puedes ejecutar el testing en la maquina virtual de Android que viene con el SDK o directamenete en nuestro dispositivo si esta conectado a nuestro ordenador.</p>

<p>Por último ejecutamos el comando para que empiece automáticamente a testear la aplicación:</p>
<ul>
 	<li><em><b><code>calabash-android run &lt;apk&amp;gt</code></b></em></li>
</ul>
<p>Y automáticamente abrirá la aplicación en la maquina virtual o en nuestro dispositivo si lo tenemos conectado.</p>

<p><img class="responsive-img" src="http://i1.wp.com/frostq.ml/wp-content/uploads/2016/04/Animation.gif" alt="Testing de aplicaciones Android usando Calabash" /></p>

  </div>

  
  <div class="related">
    <h2>Posts recomendados</h2>
    <ul class="related_posts">
      
      
      <li>
        <h5>
          <a href="/introduccion-instalacion-angular" class="related_post">
            Angular - Introducción e instalación

          </a>
        </h5>
      </li>
     
      
      
      <li>
        <h5>
          <a href="/angular-formularios" class="related_post">
            Angular - FormControl y FormGroup para crear formularios reactivos

          </a>
        </h5>
      </li>
     
      
      
      <li>
        <h5>
          <a href="/cuantas-tecnologias-web-existen" class="related_post">
            ¿Cuántas tecnologías para el desarollo web existen?

          </a>
        </h5>
      </li>
     
      
      
      <li>
        <h5>
          <a href="/optimizar-angular" class="related_post">
            Optimizar aplicaciones Angular 2 para aumentar la velocidad de carga

          </a>
        </h5>
      </li>
     
      
    </ul>
  </div>




</div>



<div align="center">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- Ad -->
  <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-7551074192374685" data-ad-slot="4480248215" data-ad-format="auto"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>



  <footer>
    <div class="flex three">
        <div class="full half-1000">

            <div id="mc_embed_signup">
                <form action="https://github.us14.list-manage.com/subscribe/post?u=cd16a671a63cd217caf6b2f3f&amp;id=bb3cc69837" method="post"
                    id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
                    <div id="mc_embed_signup_scroll">
                        <h2>Newsletter <i class="fa fa-envelope icon_footer" aria-hidden="true"></i></h2>
                        <p>Sigue el blog por email. Introduce tu dirección de correo electrónico para que te mande un correo
                            cuando publique un nuevo artículo en este blog</p>

                        <div class="mc-field-group">
                            <label for="mce-EMAIL">Tu email
                                <span class="asterisk">*</span>
                            </label>
                            <input type="email" style="color:black;" value="" name="EMAIL" class="required email" id="mce-EMAIL" placeholder="Introduce tu correo electrónico">
                        </div>
                        <div id="mce-responses" class="clear">
                            <div class="response" id="mce-error-response" style="display:none"></div>
                            <div class="response" id="mce-success-response" style="display:none"></div>
                        </div>
                        <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
                        <div style="position: absolute; left: -5000px;" aria-hidden="true">
                            <input type="text" name="b_cd16a671a63cd217caf6b2f3f_bb3cc69837" tabindex="-1" value="">
                        </div>
                        <div class="clear">
                            <input type="submit" value="Suscribirse por email" name="subscribe" id="mc-embedded-subscribe" class="button footer_button">
                        </div>
                    </div>
                </form>
            </div>

            <!--End mc_embed_signup-->

        </div>
        <div class="full sixth-1000">
          
              
                <ul id="footer_menu">
                   
                    <a href="/blog">
                        <li><h4>Blog</h4></li>
                    </a>
                    <a href="/projects">
                        <li><h4></h>Projects</h4></li>
                    </a>
                    <a href="/about">
                        <li><h4>About me<h4></li>
                    </a>
                    <a href="/feed.xml">
                        <li><h4>Rss</h4></li>
                    </a>

                </ul>
           
        </div>
        <div class="full third-1000">
            <ul class="footer_posts">
                    

                    
                   
                    

                    
                    <a href="/introduccion-instalacion-angular"><li><h4>Angular - Introducción e instalación</h4></li></a>
                    
                    
                    
                   
                    

                    
                    <a href="/angular-formularios"><li><h4>Angular - FormControl y FormGroup para crear formularios reactivos</h4></li></a>
                    
                    
                    
                   
                    

                    
                    <a href="/cuantas-tecnologias-web-existen"><li><h4>¿Cuántas tecnologías para el desarollo web existen?</h4></li></a>
                    
                    
                    
                   
                    

                    
                    <a href="/optimizar-angular"><li><h4>Optimizar aplicaciones Angular 2 para aumentar la velocidad de carga</h4></li></a>
                    
                    
                    
                   
                    

                    
                    
                   
                    

                    
                    
                   
                    

                    
                    
                   
                    

                    
                    
                   
                    

                    
                    
                   
                    

                    
                    
                   
                    

                    
                    
                   
                    

                    
                    
                   
                    

                    
                    
                   
                    

                    
                    
                   
                    

                    
                    
                   
                    

                    
                    
                   
                    

                    
                    
                   
                    

                    
                    
                   
                    

                    
                    
                   
                    

                    
                    
                   
                    

                    
                    
                   
                    

                    
                    
                   
                    

                    
                    

            </ul>
        </div>





    </div>
</footer>




  <script src="/js/prism.js"></script>
  <script src="/js/index.js"></script>



</body>







</html>
